/*
 * AUTOMATICALLY GENERATED FILE - DO NOT EDIT
 */

// Generated from /home/duck/gitclones/erpc/erpcgen/src/templates/py_client.template
extern const char * const kPyClient;

const char * const kPyClient = 
"{% if mlComment != \"\"%}\n"
"{$mlComment}\n"
"\n"
"{% endif %}\n"
"#\n"
"# Generated by erpcgen {$erpcVersion} on {$todaysDate}.\n"
"#\n"
"# AUTOGENERATED - DO NOT EDIT\n"
"#\n"
"\n"
"import erpc\n"
"from . import common, interface\n"
"{% if groupNames %}\n"
"# import callbacks declaration from other groups\n"
"{% for name in groupNames if name != group.name %}\n"
"from ..{$outputFilename}_{$name} import interface as interface_{$name}\n"
"{% endfor %}\n"
"{% endif %}\n"
"\n"
"{% if functions %}\n"
"{%  for f in functions %}\n"
"{%   if count(f.callbacks) > 1 %}\n"
"_{$f.name} = [ {%    for c in f.callbacks %}{$c.name}{%     if !loop.last %}, {%     endif -- loop.last %}{%    endfor -- f.callbacks %} ]\n"
"{%   endif -- f.callbacks.size() %}\n"
"{%  endfor -- functions %}\n"
"\n"
"{%  endif -- functions %}\n"
"{% for iface in group.interfaces %}\n"
"# Client for {$iface.name}\n"
"class {$iface.name}Client(interface.I{$iface.name}):\n"
"    def __init__(self, manager):\n"
"        super({$iface.name}Client, self).__init__()\n"
"        self._clientManager = manager\n"
"\n"
"{% for fn in iface.functions %}\n"
"    def {$fn.prototype}:\n"
"{% for p in fn.outParameters if not p.serializedViaMember %}\n"
"        assert type({$p.name}) is erpc.Reference, \"{$p.direction} parameter must be a Reference object\"\n"
"{% endfor -- outParams %}\n"
"{% if fn.outParameters %}\n"
"\n"
"{% endif %}\n"
"        # Build remote function invocation message.\n"
"        request = self._clientManager.create_request({% if fn.isOneway %}isOneway=True{% endif %})\n"
"        codec = request.codec\n"
"        codec.start_write_message(erpc.codec.MessageInfo(\n"
"                type=erpc.codec.MessageType.{% if fn.isReturnValue %}kInvocationMessage{% else %}kOnewayMessage{% endif %},\n"
"                service=self.SERVICE_ID,\n"
"                request=self.{$upper(fn.name)}_ID,\n"
"                sequence=request.sequence))\n"
"{% for p in fn.inParameters if not p.serializedViaMember %}\n"
"{%  if p.isNullable %}\n"
"        if {$p.name} is None:\n"
"            codec.write_null_flag(True)\n"
"        else:\n"
"            codec.write_null_flag(False)\n"
"            {$encodeValue(p.type, p.name, \"codec\", \"            \", 0)}\n"
"{%  else -- isNullable %}\n"
"        if {$p.name} is None:\n"
"            raise ValueError(\"{$p.name} is None\")\n"
"{%   if p.type.type == 'union' %}\n"
"        {$p.name}._write(codec, {$p.discriminator})\n"
"{%   else%}\n"
"{%      if p.direction == \"inout\" %}\n"
"        {$encodeValue(p.type, p.name & \".value\", \"codec\", \"        \", 0)}\n"
"{%      else %}\n"
"        {$encodeValue(p.type, p.name, \"codec\", \"        \", 0)}\n"
"{%      endif -- p.direction %}\n"
"{%   endif -- isUnion %}\n"
"{%  endif -- isNullable %}\n"
"{% endfor -- inParams %}\n"
"\n"
"        # Send request{% if not fn.isOneway %} and process reply{% endif %}.\n"
"        self._clientManager.perform_request(request)\n"
"{% if not fn.isOneway %}\n"
"{% for p in fn.outParameters if not p.serializedViaMember %}\n"
"{%  if p.isNullable %}\n"
"        if {$p.name}.value != None:\n"
"            {$decodeValue(p.type, p.name & \".value\", \"common.\", \"codec\", \"            \", 0)}\n"
"{%  else -- isNullable %}\n"
"{%   if p.type.type == 'union' %}\n"
"        {$p.name}, {$p.discriminator} = common.{$p.type.name}()._read(codec)\n"
"{%   else%}\n"
"        {$decodeValue(p.type, (p.name & \".value\"), \"common.\", \"codec\", \"        \", 0)}\n"
"{%   endif -- isUnion %}\n"
"{%  endif -- isNullable %}\n"
"{% endfor -- outParams %}\n"
"{% if fn.isReturnValue && fn.returnValue.type.type != \"void\" %}\n"
"        {$decodeValue(fn.returnValue.type, \"_result\", \"common.\", \"codec\", \"        \", 0)}\n"
"{% endif %}\n"
"{% if fn.isReturnValue && fn.returnValue.type.type != \"void\" %}\n"
"        return _result\n"
"{% endif %}\n"
"{% endif -- oneway %}\n"
"\n"
"{% endfor -- fn %}\n"
"\n"
"{% endfor -- iface %}\n"
"\n"
;

